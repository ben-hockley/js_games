{% extends "base.html" %}

{% block title %}Sudoku{% endblock %}

{% block styles %}
  <link rel="stylesheet" href="/static/css/sudoku.css">
{% endblock %}

{% block content %}
  <div class="container my-4">
    <h2 class="text-center mb-4">Sudoku</h2>
    <div class="d-flex justify-content-center">
      <div>
        <div class="sudoku-grid">
          {% for row in range(9) %}
            <div class="d-flex">
              {% for col in range(9) %}
                <input 
                  type="text" 
                  maxlength="1" 
                  class="form-control text-center sudoku-cell"
                  style="width: 40px; height: 40px; font-size: 1.5rem; border: 1px solid #bbb;{% if (row == 2) or (row == 5) %} border-bottom: 2px solid #000;{% endif %}{% if (col == 2) or (col == 5) %} border-right: 2px solid #000;{% endif %}"
                >
              {% endfor %}
            </div>
          {% endfor %}
        </div>
        <!-- Buttons under the grid -->
        <div class="d-flex justify-content-center gap-3 mt-4">
          <button type="button" class="btn btn-primary" id="new-game-btn" onclick="fill_new_board()">New Game</button>
          <button type="button" class="btn btn-secondary" id="reset-grid-btn" onclick="reset_board()">Reset Grid</button>
          <button type="button" class="btn btn-success" id="solve-btn" onclick="solve_board()">Solve</button>
          <button type="button" class="btn btn-danger" id="clear-btn" onclick="check_board()">Check</button>
        </div>
        <!-- Difficulty input field -->
        <div class="mt-3 d-flex justify-content-center align-items-center">
          <label for="difficulty-input" class="me-2 mb-0">Difficulty:</label>
          <input 
            type="number" 
            id="difficulty-input" 
            class="form-control" 
            style="width: 100px;" 
            min="1" 
            max="57" 
            step="1" 
            value="30"
            oninput="this.value = Math.max(1, Math.min(57, parseInt(this.value) || 1));"
          >
        </div>
      </div>
    </div>
  </div>
{% endblock %}

{% block scripts %}
  <script src="/static/js/sudoku.js"></script>
{% endblock %}